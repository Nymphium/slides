\documentclass[unicode,compress,14pt,CJK,aspectratio=43,xcolor={dvipsnames}%
\directlua{
    handout = os.getenv"HANDOUT"
    local _ = handout and tex.print(",handout")
}]{beamer}
\usepackage{luatexja}
\usepackage[no-math]{luatexja-fontspec}
\usepackage{fontawesome}
\usepackage{emoji}
\usefonttheme[onlymath]{serif}
\usepackage{luacode}
\input{../template/beamertemp}
\usepackage{ulem}
% \setsansfont[Script=Default,Kerning=On,AutoFakeBold,AutoFakeSlant,BoldSlantedFeatures={AutoFakeBold,AutoFakeSlant}]{GenShinGothic-Medium}
\setsansfont[Script=Default,Kerning=On,BoldFont={*-Bold},ItalicFont=NotoSansDisplay-Italic]{GenShinGothic}
\setmainjfont[%
Script=Default,%
Kerning=On,%
YokoFeatures={JFM=prop}]{GenShinGothic-P}
\setmonofont[Kerning=Reset]{MonaspiceArNerdFont}
\newjfontfamily{\semijbf}[%
Script=Default,%
Kerning=On,%
AutoFakeSlant,BoldSlantedFeatures={AutoFakeBold,AutoFakeSlant},
YokoFeatures={JFM=prop}]{GenShinGothic-P-Medium}
\newfontfamily{\semibf}[%
Script=Default,%
Kerning=On,%
AutoFakeSlant,
BoldSlantedFeatures={AutoFakeBold,AutoFakeSlant},
% ItalicFont=NotoSansDisplay-Italic,
% CharacterWidth=AlternateProportional,%
]{GenShinGothic-P-Medium}
\usepackage{amsmath,amssymb,stmaryrd}
\usepackage{tikz,pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{url,hyperref}
\usepackage{scalefnt}

\definecolor{accent}{HTML}{2978D6}
\definecolor{basetext}{RGB}{105,105,105}
\definecolor{highlight}{HTML}{D63129}
\definecolor{subhighlight}{HTML}{2978D6}

\setbeamercolor*{normal text}{fg=basetext}
\setbeamercolor*{section in head/foot}{fg=accent}%
\setbeamercolor*{subsection in head/foot}{fg=accent}%
\setbeamercolor*{frametitle}{fg=accent}%
\setbeamercolor*{framesubtitle}{fg=subhighlight}
\setbeamercolor*{headline}{fg=accent}%
\usebeamercolor[fg]{normal text}

\usepackage[newfloat=true]{minted}
\usepackage{mdframed}
\usemintedstyle{friendly}
\setminted{%
  fontsize=\footnotesize,
  beameroverlays=true,
  frame=single,
  framerule=1.3pt,
  framesep=.6\fboxsep,
  escapeinside=??,
autogobble}
% \BeforeBeginEnvironment{minted}{
% \begingroup
% \catcode`\!=\active
% \def!#1!{\colorbox{green}{#1}}}
% \AfterEndEnvironment{minted}{\endgroup}

\usepackage{graphicx}
\usepackage[most]{tcolorbox}
\newtcolorbox{newbie}{
    enhanced,
    boxrule=0pt,
    right skip=0pt,
    left skip=0pt,
    boxsep=0pt,
    right=.3em,
    left=.3em,
    sharp corners,
    colback=black!20,
}
\usetikzlibrary{tikzmark,shapes,arrows,arrows.meta,positioning,calc,fit,shapes.callouts}
% \tikzstyle{every picture}+=[remember picture]

\tikzset{
  orange arrow/.style={
    draw=orange,
    arrows={-Triangle[angle=90:10pt]},
    line width=.3\zh
    % postaction={draw=orange,shorten >=.2\zh, -}
  }
}

\newcommand{\itemheader}[1]{%
  {\semibf\semijbf #1}}

\AtBeginSection{}
\AtBeginSubsection{}

\title{%
{\huge\it\bf\textcolor{subhighlight}{Guide}}%
\newline\null%
{\large \textcolor{basetext}{to}}%
\newline\null%
{\huge\it\bf\textcolor{highlight}{ Profile-Guided Optimization:}}}
\subtitle{\bf\large\color{basetext} inlining, devirtualizing, and profiling}
\def\thetitle{\normalsize Guide to Profile-Guided Optimization: inlining, devirtualizing, and profiling}
\hypersetup{pdftitle={\thetitle}}
\author{Satoru Kawahara}
\date{June 8, 2024}
\institute{Go Conference 2024}
\begin{document}
\maketitle
\input{src/first.tex}
\input{src/intro.tex}
\input{src/pgo1.tex}
\input{src/inlining.tex}
\input{src/devirtualizing.tex}
\input{src/pgo2.tex}
\input{src/senden.tex}
\input{src/evaluation.tex}
\input{src/misc.tex}
\input{src/conclusion.tex}
\end{document}
